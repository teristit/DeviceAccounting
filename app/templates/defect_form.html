<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Defect</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Add Defect</h1>
    <form method="POST" action="{{ url_for('add_defect') }}">
        <label for="product_id">Product:</label><br>
        <select id="product_id" name="product_id">
            {% for product in products %}
                <option value="{{ product.id }}">{{ product.product_name }}</option>
            {% endfor %}
        </select><br><br>

        <label for="bug_finder_id">Bug Finder:</label><br>
        <select id="bug_finder_id" name="bug_finder_id">
            {% for user in users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
        </select><br><br>

        <label for="failure_explanation">Failure Explanation:</label><br>
        <textarea id="failure_explanation" name="failure_explanation" rows="4" cols="50"></textarea><br><br>

        <label for="suspected_cause">Suspected Cause:</label><br>
        <textarea id="suspected_cause" name="suspected_cause" rows="4" cols="50"></textarea><br><br>

        <label for="repairer_id">Repairer (optional):</label><br>
        <select id="repairer_id" name="repairer_id">
            <option value="">-- None --</option>  <!-- Allow for no repairer -->
            {% for user in users %}
                <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
        </select><br><br>
        <input type="submit" value="Submit">
    </form>
    <a href="{{ url_for('index') }}">Back to Home</a>
</body>
</html>